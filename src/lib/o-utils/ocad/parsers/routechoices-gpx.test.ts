import { describe, expect, test } from "vitest";
import type Leg from "../../models/leg";
import { ROUTECHOICES_GPX } from "./mocks/routechoices-gpx";
import parseGPXRoutechoicesOCADExport from "./routechoices-gpx";

describe("parseGPXRoutechoicesOCADExpor()", () => {
  test("returns expected routechoices", () => {
    const parser = new DOMParser();
    const xmlDoc = parser.parseFromString(ROUTECHOICES_GPX, "text/xml");
    const legs = parseGPXRoutechoicesOCADExport(xmlDoc, inputLegs);

    expect(legs).toStrictEqual(expectedLegs);
  });
});

const expectedLegs: Leg[] = [
  {
    startControlCode: "S1",
    finishControlCode: "31",
    startLat: 45.212847,
    startLon: 5.793802,
    routechoices: [
      {
        id: 15,
        name: "A",
        color: "0000FF",
        length: 159.32132153061775,
        track: [
          [45.21284368, 5.79380299],
          [45.21300119, 5.79341318],
          [45.21307391, 5.79324346],
          [45.21313096, 5.79312395],
          [45.21315268, 5.79311994],
          [45.21322687, 5.79317974],
          [45.21327599, 5.79323318],
          [45.21330864, 5.79322462],
          [45.21332046, 5.79318442],
          [45.21329806, 5.79307113],
          [45.21329019, 5.79295346],
          [45.21322231, 5.79235351],
          [45.21317526, 5.79236135],
        ],
      },
      {
        id: 43,
        name: "B",
        color: "FF0000",
        length: 167.3586288418746,
        track: [
          [45.21283995, 5.7938079],
          [45.21284419, 5.79378262],
          [45.21299097, 5.7936778],
          [45.21324818, 5.7936244],
          [45.21337929, 5.79356978],
          [45.21339522, 5.79350939],
          [45.21335425, 5.79313003],
          [45.21322231, 5.79235351],
          [45.21317526, 5.79236135],
        ],
      },
      {
        id: 44,
        name: "C",
        color: "006400",
        length: 179.85339470693887,
        track: [
          [45.21283995, 5.7938079],
          [45.21280028, 5.79236808],
          [45.21286644, 5.79217254],
          [45.21292645, 5.79207867],
          [45.21302054, 5.79206298],
          [45.21309062, 5.79214297],
          [45.21317526, 5.79236135],
        ],
      },
      {
        id: 61,
        name: "D",
        color: "ffff00",
        length: 94.45436302358854,
        track: [
          [45.21277736, 5.79386086],
          [45.21304126, 5.79382818],
          [45.21319499, 5.79373391],
          [45.2132027, 5.7937139],
          [45.21317826, 5.79368208],
          [45.21302374, 5.79366415],
          [45.21299097, 5.7936778],
          [45.21284419, 5.79378262],
          [45.21284368, 5.79380299],
        ],
      },
    ],
  },
  {
    startControlCode: "31",
    finishControlCode: "32",
    startLat: 45.213173,
    startLon: 5.792364,
    routechoices: [
      {
        id: 8,
        name: "A",
        color: "0000FF",
        length: 269.53200889414785,
        track: [
          [45.21317526, 5.79236135],
          [45.21325778, 5.79179952],
          [45.21326804, 5.79167766],
          [45.21322197, 5.791502],
          [45.21309714, 5.79144986],
          [45.21306627, 5.79138713],
          [45.21302113, 5.79131859],
          [45.21287945, 5.79121973],
          [45.21279022, 5.79118467],
          [45.21237743, 5.79111813],
          [45.21236084, 5.79106121],
          [45.21229161, 5.79080282],
          [45.21236556, 5.79043941],
          [45.212364, 5.79035776],
          [45.21240729, 5.79021206],
          [45.21233831, 5.78994348],
          [45.21233086, 5.7899533],
        ],
      },
      {
        id: 16,
        name: "B",
        color: "FF0000",
        length: 253.04044310526479,
        track: [
          [45.21317526, 5.79236135],
          [45.21325778, 5.79179952],
          [45.21326804, 5.79167766],
          [45.21322197, 5.791502],
          [45.21309714, 5.79144986],
          [45.21306627, 5.79138713],
          [45.21302113, 5.79131859],
          [45.21288703, 5.79120481],
          [45.21285036, 5.7910857],
          [45.21278575, 5.79078675],
          [45.21283353, 5.79060558],
          [45.21276976, 5.7905616],
          [45.21254337, 5.79053498],
          [45.21248858, 5.79042007],
          [45.21240783, 5.79033445],
          [45.21239187, 5.79025208],
          [45.21240729, 5.79021206],
          [45.21233831, 5.78994348],
          [45.21233446, 5.78995348],
        ],
      },
      {
        id: 17,
        name: "C",
        color: "006400",
        length: 274.8974920183349,
        track: [
          [45.21317526, 5.79236135],
          [45.213289, 5.7917042],
          [45.21319622, 5.79134979],
          [45.21321979, 5.79131528],
          [45.21337384, 5.79119347],
          [45.21331554, 5.79093052],
          [45.21320465, 5.79060885],
          [45.21319115, 5.79057248],
          [45.21316671, 5.79054067],
          [45.21310794, 5.79044085],
          [45.21275276, 5.78994381],
          [45.21260429, 5.78997207],
          [45.21233446, 5.78995348],
        ],
      },
      {
        id: 18,
        name: "D",
        color: "ffff00",
        length: 265.3812910583183,
        track: [
          [45.21317526, 5.79236135],
          [45.21325778, 5.79179952],
          [45.21326804, 5.79167766],
          [45.21322197, 5.791502],
          [45.21309714, 5.79144986],
          [45.21306627, 5.79138713],
          [45.21302113, 5.79131859],
          [45.21288703, 5.79120481],
          [45.21285036, 5.7910857],
          [45.21278575, 5.79078675],
          [45.21283353, 5.79060558],
          [45.21286589, 5.79046444],
          [45.21279612, 5.79008364],
          [45.21275276, 5.78994381],
          [45.21260429, 5.78997207],
          [45.21233446, 5.78995348],
        ],
      },
      {
        id: 46,
        name: "E",
        color: "DAA520",
        length: 280.7587806170238,
        track: [
          [45.21317526, 5.79236135],
          [45.21325778, 5.79179952],
          [45.21326804, 5.79167766],
          [45.21322197, 5.791502],
          [45.21309714, 5.79144986],
          [45.21306627, 5.79138713],
          [45.21302113, 5.79131859],
          [45.21287945, 5.79121973],
          [45.21279022, 5.79118467],
          [45.21238091, 5.7911234],
          [45.21236058, 5.7910714],
          [45.21219372, 5.79053789],
          [45.21219228, 5.79045114],
          [45.2121516, 5.79020437],
          [45.2122656, 5.7901132],
          [45.2122806, 5.78994569],
          [45.21232713, 5.78995821],
        ],
      },
    ],
  },
  {
    startControlCode: "32",
    finishControlCode: "33",
    startLat: 45.212336,
    startLon: 5.78996,
    routechoices: [
      {
        id: 19,
        name: "A",
        color: "0000FF",
        length: 58.427381345097174,
        track: [
          [45.21233446, 5.78995348],
          [45.21251029, 5.78983991],
          [45.21255204, 5.78975532],
          [45.21255061, 5.78966857],
          [45.21252088, 5.78956001],
          [45.21248963, 5.78951256],
          [45.21247883, 5.78951202],
          [45.212435, 5.78953532],
          [45.21244182, 5.78955096],
        ],
      },
      {
        id: 47,
        name: "B",
        color: "FF0000",
        length: 63.5929258972054,
        track: [
          [45.21233086, 5.7899533],
          [45.21223457, 5.7899128],
          [45.21218388, 5.7897777],
          [45.2121683, 5.78968004],
          [45.21217228, 5.78966495],
          [45.21240955, 5.78954424],
          [45.2124381, 5.78955587],
        ],
      },
    ],
  },
  {
    startControlCode: "33",
    finishControlCode: "34",
    startLat: 45.212446,
    startLon: 5.789548,
    routechoices: [
      {
        id: 1,
        name: "A",
        color: "0000FF",
        length: 269.93898383781817,
        track: [
          [45.21244182, 5.78955096],
          [45.212435, 5.78953532],
          [45.21262819, 5.7894481],
          [45.21266648, 5.78935824],
          [45.21248399, 5.78858431],
          [45.2124684, 5.78848666],
          [45.21252037, 5.78771885],
          [45.21248408, 5.78761353],
          [45.21250628, 5.78740253],
          [45.2124669, 5.7872476],
          [45.21240144, 5.78712706],
          [45.21242519, 5.78704157],
          [45.21264171, 5.78717476],
          [45.21268876, 5.78716691],
          [45.21278001, 5.78712048],
          [45.21279247, 5.78705482],
        ],
      },
      {
        id: 7,
        name: "B",
        color: "FF0000",
        length: 277.7826017644775,
        track: [
          [45.2124381, 5.78955587],
          [45.212435, 5.78953532],
          [45.21246778, 5.78952166],
          [45.21274168, 5.7893773],
          [45.21288795, 5.78929283],
          [45.21295143, 5.78920423],
          [45.21297544, 5.78910855],
          [45.21303398, 5.78878516],
          [45.21314361, 5.78872436],
          [45.21327175, 5.78864408],
          [45.21308672, 5.787972],
          [45.21306199, 5.7878076],
          [45.21304112, 5.7876332],
          [45.21310857, 5.7875295],
          [45.21306945, 5.78736439],
          [45.21296545, 5.78734389],
          [45.21278874, 5.78705973],
        ],
      },
      {
        id: 9,
        name: "C",
        color: "006400",
        length: 268.30337860042226,
        track: [
          [45.21244182, 5.78955096],
          [45.212435, 5.78953532],
          [45.21262819, 5.7894481],
          [45.21266648, 5.78935824],
          [45.21257841, 5.78884397],
          [45.21270884, 5.78867203],
          [45.21272786, 5.78863219],
          [45.2127398, 5.7885869],
          [45.21271342, 5.78848871],
          [45.21268166, 5.78846163],
          [45.21264872, 5.78833761],
          [45.21294176, 5.78814831],
          [45.21303539, 5.78786236],
          [45.21304112, 5.7876332],
          [45.21310857, 5.7875295],
          [45.21306945, 5.78736439],
          [45.21296545, 5.78734389],
          [45.21279247, 5.78705482],
        ],
      },
      {
        id: 48,
        name: "D",
        color: "ffff00",
        length: 290.6112693509377,
        track: [
          [45.2124381, 5.78955587],
          [45.212435, 5.78953532],
          [45.21262819, 5.7894481],
          [45.21266648, 5.78935824],
          [45.21221053, 5.78755601],
          [45.21222337, 5.78747507],
          [45.21223095, 5.78746016],
          [45.21229019, 5.78739683],
          [45.21229891, 5.78733609],
          [45.2122471, 5.78711629],
          [45.21241633, 5.78702125],
          [45.21243599, 5.78704211],
          [45.21264171, 5.78717476],
          [45.21268876, 5.78716691],
          [45.21278001, 5.78712048],
          [45.21278874, 5.78705973],
        ],
      },
    ],
  },
  {
    startControlCode: "34",
    finishControlCode: "35",
    startLat: 45.212793,
    startLon: 5.787053,
    routechoices: [
      {
        id: 20,
        name: "A",
        color: "0000FF",
        length: 133.1003037896447,
        track: [
          [45.21279247, 5.78705482],
          [45.21315488, 5.78713258],
          [45.21330709, 5.78718557],
          [45.21344095, 5.78735235],
          [45.21352065, 5.78733594],
          [45.2137038, 5.78721762],
          [45.21363381, 5.78698978],
          [45.2135973, 5.78700835],
        ],
      },
      {
        id: 49,
        name: "B",
        color: "FF0000",
        length: 152.98195116365025,
        track: [
          [45.21278874, 5.78705973],
          [45.21282329, 5.78697478],
          [45.21280924, 5.78681602],
          [45.21281309, 5.78680602],
          [45.21295216, 5.78672119],
          [45.21300407, 5.78666259],
          [45.2130764, 5.78650815],
          [45.21336804, 5.78637485],
          [45.21343182, 5.78641882],
          [45.21346358, 5.7864459],
          [45.21358723, 5.78683449],
          [45.2135973, 5.78700835],
        ],
      },
    ],
  },
  {
    startControlCode: "35",
    finishControlCode: "36",
    startLat: 45.213601,
    startLon: 5.787004,
    routechoices: [
      {
        id: 21,
        name: "A",
        color: "0000FF",
        length: 274.0470780506497,
        track: [
          [45.2135973, 5.78700835],
          [45.21363381, 5.78698978],
          [45.21371399, 5.78719927],
          [45.21388657, 5.78711458],
          [45.2139705, 5.78707288],
          [45.21423, 5.78692778],
          [45.21427883, 5.78684864],
          [45.21423915, 5.78656112],
          [45.21423759, 5.78647946],
          [45.21422073, 5.78643273],
          [45.21414362, 5.78605667],
          [45.21428921, 5.78585488],
          [45.21428997, 5.78582433],
          [45.2142555, 5.78576142],
          [45.21421989, 5.78574435],
          [45.21406879, 5.78515554],
          [45.21408023, 5.78513061],
          [45.21422996, 5.78505141],
          [45.2142494, 5.78513906],
          [45.21425482, 5.78521071],
        ],
      },
      {
        id: 50,
        name: "B",
        color: "FF0000",
        length: 309.75990797372225,
        track: [
          [45.2135973, 5.78700835],
          [45.21363381, 5.78698978],
          [45.21371391, 5.78720232],
          [45.21388657, 5.78711458],
          [45.2139705, 5.78707288],
          [45.21423, 5.78692778],
          [45.21427883, 5.78684864],
          [45.21423915, 5.78656112],
          [45.21423759, 5.78647946],
          [45.21422073, 5.78643273],
          [45.21414362, 5.78605667],
          [45.214655, 5.7856386],
          [45.21459567, 5.78541639],
          [45.21454049, 5.78531675],
          [45.21441557, 5.78497909],
          [45.21440515, 5.78496328],
          [45.21432084, 5.78502025],
          [45.21430195, 5.785055],
          [45.21429759, 5.78508538],
          [45.21425482, 5.78521071],
        ],
      },
      {
        id: 51,
        name: "C",
        color: "006400",
        length: 319.2463817952545,
        track: [
          [45.2135973, 5.78700835],
          [45.21363381, 5.78698978],
          [45.21372091, 5.78719655],
          [45.21388657, 5.78711458],
          [45.2139705, 5.78707288],
          [45.21423, 5.78692778],
          [45.21427883, 5.78684864],
          [45.21423915, 5.78656112],
          [45.21423759, 5.78647946],
          [45.21422073, 5.78643273],
          [45.21418292, 5.78635946],
          [45.21405313, 5.78607254],
          [45.21394591, 5.7856032],
          [45.21387264, 5.78521713],
          [45.21383686, 5.78506238],
          [45.21380688, 5.784964],
          [45.21381793, 5.78495436],
          [45.21391279, 5.7849081],
          [45.21403729, 5.78511827],
          [45.21422996, 5.78505141],
          [45.2142494, 5.78513906],
          [45.21425482, 5.78521071],
        ],
      },
    ],
  },
  {
    startControlCode: "36",
    finishControlCode: "37",
    startLat: 45.214257,
    startLon: 5.785209,
    routechoices: [
      {
        id: 3,
        name: "A",
        color: "0000FF",
        length: 123.81273433446532,
        track: [
          [45.21425482, 5.78521071],
          [45.2142494, 5.78513906],
          [45.21422996, 5.78505141],
          [45.21403729, 5.78511827],
          [45.21391279, 5.7849081],
          [45.21380044, 5.78493309],
          [45.21379401, 5.78490217],
          [45.21381763, 5.78482177],
          [45.21397342, 5.78435536],
          [45.21400285, 5.78433133],
          [45.21401365, 5.78433187],
        ],
      },
      {
        id: 6,
        name: "B",
        color: "FF0000",
        length: 121.04263020471555,
        track: [
          [45.21425482, 5.78521071],
          [45.2142494, 5.78513906],
          [45.21422996, 5.78505141],
          [45.21403729, 5.78511827],
          [45.21400087, 5.78498898],
          [45.21398694, 5.78482513],
          [45.21400413, 5.78471381],
          [45.21405486, 5.78455828],
          [45.21412553, 5.78447003],
          [45.21416855, 5.78433451],
          [45.214126, 5.78430689],
          [45.21401365, 5.78433187],
        ],
      },
      {
        id: 22,
        name: "C",
        color: "006400",
        length: 129.52094027642516,
        track: [
          [45.21425482, 5.78521071],
          [45.21429759, 5.78508538],
          [45.21430195, 5.785055],
          [45.21432084, 5.78502025],
          [45.21450847, 5.78486646],
          [45.21439613, 5.78445804],
          [45.21437516, 5.7844315],
          [45.21421302, 5.78428574],
          [45.213981, 5.78434044],
          [45.21401365, 5.78433187],
        ],
      },
    ],
  },
  {
    startControlCode: "37",
    finishControlCode: "38",
    startLat: 45.214023,
    startLon: 5.784339,
    routechoices: [
      {
        id: 0,
        name: "A",
        color: "0000FF",
        length: 146.26709442295063,
        track: [
          [45.21401365, 5.78433187],
          [45.21400285, 5.78433133],
          [45.21397342, 5.78435536],
          [45.21381763, 5.78482177],
          [45.21379401, 5.78490217],
          [45.21380701, 5.78495891],
          [45.21386981, 5.78518639],
          [45.21386879, 5.78522713],
          [45.21385748, 5.78524696],
          [45.21376103, 5.78531404],
          [45.21361649, 5.7853726],
          [45.21350334, 5.78528537],
          [45.21350012, 5.78526991],
          [45.21351753, 5.78500564],
        ],
      },
      {
        id: 23,
        name: "B",
        color: "FF0000",
        length: 139.56394287991478,
        track: [
          [45.21401365, 5.78433187],
          [45.21399794, 5.78423931],
          [45.21383528, 5.78411392],
          [45.21377833, 5.78408558],
          [45.21370337, 5.78405635],
          [45.21364566, 5.78405857],
          [45.21355419, 5.78425795],
          [45.21346764, 5.78454936],
          [45.2134745, 5.78470777],
          [45.21340696, 5.78495934],
          [45.21351753, 5.78500564],
        ],
      },
      {
        id: 24,
        name: "C",
        color: "006400",
        length: 154.93509921215625,
        track: [
          [45.21401365, 5.78433187],
          [45.21400285, 5.78433133],
          [45.21397342, 5.78435536],
          [45.2138225, 5.78477103],
          [45.21380014, 5.7848005],
          [45.21378613, 5.78478451],
          [45.21378329, 5.78475377],
          [45.21382928, 5.7846439],
          [45.21382284, 5.78461298],
          [45.21364731, 5.78442576],
          [45.21356313, 5.78447765],
          [45.21346764, 5.78454936],
          [45.2134745, 5.78470777],
          [45.21340696, 5.78495934],
          [45.21351753, 5.78500564],
        ],
      },
    ],
  },
  {
    startControlCode: "38",
    finishControlCode: "46",
    startLat: 45.213519,
    startLon: 5.785003,
    routechoices: [
      {
        id: 25,
        name: "A",
        color: "0000FF",
        length: 154.14865974853458,
        track: [
          [45.21351753, 5.78500564],
          [45.21350012, 5.78526991],
          [45.21350334, 5.78528537],
          [45.2135846, 5.78535061],
          [45.21373375, 5.78587304],
          [45.21368827, 5.78596254],
          [45.21343508, 5.78614365],
          [45.21323893, 5.78620524],
          [45.21322504, 5.78618415],
          [45.2132524, 5.78609884],
          [45.21329868, 5.78612154],
        ],
      },
      {
        id: 45,
        name: "B",
        color: "FF0000",
        length: 168.8598836238063,
        track: [
          [45.2135138, 5.78501056],
          [45.21326023, 5.78520695],
          [45.21310999, 5.78530652],
          [45.21295885, 5.78544174],
          [45.21298155, 5.78568761],
          [45.21294653, 5.7859357],
          [45.21298451, 5.78614665],
          [45.2130402, 5.78622591],
          [45.21308674, 5.78623843],
          [45.21318828, 5.78621291],
          [45.2132524, 5.78609884],
          [45.21329496, 5.78612646],
        ],
      },
    ],
  },
  {
    startControlCode: "46",
    finishControlCode: "39",
    startLat: 45.2133,
    startLon: 5.78612,
    routechoices: [
      {
        id: 4,
        name: "A",
        color: "0000FF",
        length: 0.3997619503646059,
        track: [
          [45.21329868, 5.78612154],
          [45.21329855, 5.78612664],
        ],
      },
      {
        id: 26,
        name: "B",
        color: "FF0000",
        length: 261.5697669950254,
        track: [
          [45.21329855, 5.78612664],
          [45.2132524, 5.78609884],
          [45.21322504, 5.78618415],
          [45.21323893, 5.78620524],
          [45.21395858, 5.78601989],
          [45.21401492, 5.7860584],
          [45.21410788, 5.78647808],
          [45.21420985, 5.78658006],
          [45.21427883, 5.78684864],
          [45.21416627, 5.78702658],
          [45.21397867, 5.78732313],
          [45.21391727, 5.78747303],
          [45.21390994, 5.78747776],
          [45.21377964, 5.78764461],
          [45.21375508, 5.78761789],
        ],
      },
      {
        id: 27,
        name: "C",
        color: "006400",
        length: 260.5695873018965,
        track: [
          [45.21329855, 5.78612664],
          [45.2132524, 5.78609884],
          [45.21318828, 5.78621291],
          [45.21271079, 5.78641391],
          [45.21280128, 5.78684622],
          [45.21284874, 5.78696586],
          [45.21289465, 5.78700384],
          [45.21304594, 5.78710777],
          [45.21314581, 5.78713519],
          [45.21330917, 5.78718873],
          [45.21344095, 5.78735235],
          [45.21352065, 5.78733594],
          [45.21358273, 5.78730335],
          [45.21375292, 5.78770446],
          [45.21381127, 5.78767678],
          [45.21380471, 5.78765096],
          [45.21375508, 5.78761789],
        ],
      },
      {
        id: 52,
        name: "D",
        color: "ffff00",
        length: 260.9928867553113,
        track: [
          [45.21329496, 5.78612646],
          [45.2132524, 5.78609884],
          [45.21318828, 5.78621291],
          [45.21271286, 5.78641759],
          [45.21280128, 5.78684622],
          [45.21284874, 5.78696586],
          [45.21304827, 5.78710125],
          [45.21317292, 5.78714623],
          [45.2133025, 5.78718177],
          [45.21344095, 5.78735235],
          [45.21352065, 5.78733594],
          [45.21367797, 5.78724183],
          [45.21371731, 5.78725399],
          [45.21379763, 5.78764551],
          [45.21375495, 5.78762298],
        ],
      },
    ],
  },
  {
    startControlCode: "39",
    finishControlCode: "40",
    startLat: 45.213758,
    startLon: 5.787612,
    routechoices: [
      {
        id: 28,
        name: "A",
        color: "0000FF",
        length: 285.4096411709335,
        track: [
          [45.21375508, 5.78761789],
          [45.21380471, 5.78765096],
          [45.21381127, 5.78767678],
          [45.21360538, 5.78783986],
          [45.21358662, 5.78786951],
          [45.21358945, 5.78790025],
          [45.21361791, 5.78805973],
          [45.21361549, 5.78815649],
          [45.21344792, 5.78837246],
          [45.21343585, 5.78842284],
          [45.21339152, 5.78846652],
          [45.21337623, 5.78850144],
          [45.21338101, 5.78859856],
          [45.21343199, 5.78886624],
          [45.21345849, 5.78895935],
          [45.21348022, 5.78895533],
          [45.21400685, 5.78867726],
          [45.21403484, 5.78868223],
          [45.21406083, 5.7887957],
          [45.21399045, 5.78901653],
          [45.21394289, 5.78904475],
          [45.21391782, 5.78903839],
          [45.21388699, 5.78911843],
          [45.21378561, 5.78928163],
          [45.2137815, 5.78930182],
          [45.21381699, 5.78932399],
          [45.2139373, 5.78926882],
        ],
      },
      {
        id: 29,
        name: "B",
        color: "FF0000",
        length: 303.3025424718401,
        track: [
          [45.21375508, 5.78761789],
          [45.21379763, 5.78764551],
          [45.21435784, 5.78758172],
          [45.21446671, 5.78755147],
          [45.21456796, 5.78782677],
          [45.21462135, 5.7879977],
          [45.21469842, 5.788231],
          [45.21468359, 5.7885362],
          [45.21465636, 5.78861642],
          [45.21394289, 5.78904475],
          [45.21391782, 5.78903839],
          [45.21388699, 5.78911843],
          [45.21378561, 5.78928163],
          [45.2137815, 5.78930182],
          [45.21381699, 5.78932399],
          [45.2139373, 5.78926882],
        ],
      },
      {
        id: 53,
        name: "C",
        color: "006400",
        length: 308.16036913203044,
        track: [
          [45.21375495, 5.78762298],
          [45.21380471, 5.78765096],
          [45.21381127, 5.78767678],
          [45.21360538, 5.78783986],
          [45.21358662, 5.78786951],
          [45.21358945, 5.78790025],
          [45.21361791, 5.78805973],
          [45.21361549, 5.78815649],
          [45.21344792, 5.78837246],
          [45.21343585, 5.78842284],
          [45.21339152, 5.78846652],
          [45.21337623, 5.78850144],
          [45.21342186, 5.78898301],
          [45.2133395, 5.78910636],
          [45.21323142, 5.78924882],
          [45.21317387, 5.78938871],
          [45.21324335, 5.78963692],
          [45.21344374, 5.78955007],
          [45.21346766, 5.78960225],
          [45.2135424, 5.78978444],
          [45.21373546, 5.78970232],
          [45.21378619, 5.78954679],
          [45.21386302, 5.78935688],
          [45.21393357, 5.78927373],
        ],
      },
      {
        id: 54,
        name: "D",
        color: "ffff00",
        length: 303.8253304204105,
        track: [
          [45.21375495, 5.78762298],
          [45.21379763, 5.78764551],
          [45.21435784, 5.78758172],
          [45.21446671, 5.78755147],
          [45.21456796, 5.78782677],
          [45.21462135, 5.7879977],
          [45.21469842, 5.788231],
          [45.21468359, 5.7885362],
          [45.21449759, 5.78905718],
          [45.2144715, 5.78909157],
          [45.21439117, 5.78913344],
          [45.21422407, 5.78918627],
          [45.21418011, 5.78921467],
          [45.21417439, 5.78944383],
          [45.21413738, 5.78948277],
          [45.21409727, 5.78950116],
          [45.21393759, 5.7894014],
          [45.21393357, 5.78927373],
        ],
      },
      {
        id: 55,
        name: "E",
        color: "DAA520",
        length: 304.9325838775354,
        track: [
          [45.21375495, 5.78762298],
          [45.21380471, 5.78765096],
          [45.21381127, 5.78767678],
          [45.21360538, 5.78783986],
          [45.21358662, 5.78786951],
          [45.21358945, 5.78790025],
          [45.21361791, 5.78805973],
          [45.21361549, 5.78815649],
          [45.21344792, 5.78837246],
          [45.21343585, 5.78842284],
          [45.21339152, 5.78846652],
          [45.21337623, 5.78850144],
          [45.21338101, 5.78859856],
          [45.21343199, 5.78886624],
          [45.21345849, 5.78895935],
          [45.21348022, 5.78895533],
          [45.21402069, 5.78867132],
          [45.21403484, 5.78868223],
          [45.21406083, 5.7887957],
          [45.21413256, 5.78924289],
          [45.2141749, 5.78942346],
          [45.21415601, 5.78945821],
          [45.2141154, 5.78949697],
          [45.21409727, 5.78950116],
          [45.21393759, 5.7894014],
          [45.21393357, 5.78927373],
        ],
      },
    ],
  },
  {
    startControlCode: "40",
    finishControlCode: "41",
    startLat: 45.21394,
    startLon: 5.78926,
    routechoices: [
      {
        id: 30,
        name: "A",
        color: "0000FF",
        length: 81.96896765715942,
        track: [
          [45.2139373, 5.78926882],
          [45.21393759, 5.7894014],
          [45.21409727, 5.78950116],
          [45.2141154, 5.78949697],
          [45.21415601, 5.78945821],
          [45.2141749, 5.78942346],
          [45.21418011, 5.78921467],
          [45.21422407, 5.78918627],
          [45.2143949, 5.78912853],
        ],
      },
      {
        id: 56,
        name: "B",
        color: "FF0000",
        length: 91.07725806872507,
        track: [
          [45.21393357, 5.78927373],
          [45.21393759, 5.7894014],
          [45.21409727, 5.78950116],
          [45.21433933, 5.78947757],
          [45.2144546, 5.78933547],
          [45.21445473, 5.78933038],
          [45.21443233, 5.78921708],
          [45.21441895, 5.78917562],
          [45.21439117, 5.78913344],
        ],
      },
      {
        id: 57,
        name: "C",
        color: "006400",
        length: 97.09303011644676,
        track: [
          [45.21393357, 5.78927373],
          [45.21381699, 5.78932399],
          [45.2137815, 5.78930182],
          [45.21378561, 5.78928163],
          [45.21388699, 5.78911843],
          [45.2139105, 5.78904313],
          [45.21433692, 5.78914093],
          [45.21439117, 5.78913344],
        ],
      },
    ],
  },
  {
    startControlCode: "41",
    finishControlCode: "42",
    startLat: 45.214394,
    startLon: 5.789118,
    routechoices: [
      {
        id: 31,
        name: "A",
        color: "0000FF",
        length: 194.55689836504132,
        track: [
          [45.2143949, 5.78912853],
          [45.21443233, 5.78921708],
          [45.21445473, 5.78933038],
          [45.21433522, 5.78949776],
          [45.21420266, 5.78989904],
          [45.21411771, 5.78998148],
          [45.21405476, 5.79062588],
          [45.21397044, 5.79068285],
          [45.21401304, 5.79085324],
          [45.21414431, 5.79093629],
          [45.21431899, 5.79086854],
          [45.21431873, 5.79087873],
        ],
      },
      {
        id: 32,
        name: "B",
        color: "FF0000",
        length: 204.23259610443836,
        track: [
          [45.2143949, 5.78912853],
          [45.2146067, 5.78945015],
          [45.21471481, 5.78945046],
          [45.21473988, 5.78945681],
          [45.21477139, 5.78949408],
          [45.21479197, 5.7895359],
          [45.21488477, 5.79000454],
          [45.21488083, 5.79016241],
          [45.21480235, 5.79041853],
          [45.21482733, 5.79057274],
          [45.21460382, 5.79071963],
          [45.21455961, 5.79075821],
          [45.21431873, 5.79087873],
        ],
      },
      {
        id: 33,
        name: "C",
        color: "006400",
        length: 204.3782222171653,
        track: [
          [45.2143949, 5.78912853],
          [45.21443233, 5.78921708],
          [45.21445473, 5.78933038],
          [45.21433522, 5.78949776],
          [45.21420266, 5.78989904],
          [45.21411771, 5.78998148],
          [45.21411258, 5.7900424],
          [45.21420662, 5.79031735],
          [45.21433697, 5.79029327],
          [45.21449716, 5.79037267],
          [45.21455635, 5.79059998],
          [45.21456833, 5.79069746],
          [45.21456795, 5.79071274],
          [45.21455961, 5.79075821],
          [45.21431873, 5.79087873],
        ],
      },
      {
        id: 58,
        name: "D",
        color: "ffff00",
        length: 213.71427787489228,
        track: [
          [45.21439117, 5.78913344],
          [45.21422407, 5.78918627],
          [45.21418011, 5.78921467],
          [45.2141749, 5.78942346],
          [45.21412251, 5.78964519],
          [45.21387333, 5.78995396],
          [45.2139926, 5.79037293],
          [45.21405476, 5.79062588],
          [45.21397044, 5.79068285],
          [45.21401304, 5.79085324],
          [45.21414431, 5.79093629],
          [45.21431899, 5.79086854],
          [45.21431873, 5.79087873],
        ],
      },
    ],
  },
  {
    startControlCode: "42",
    finishControlCode: "43",
    startLat: 45.214319,
    startLon: 5.790881,
    routechoices: [
      {
        id: 34,
        name: "A",
        color: "0000FF",
        length: 138.9019535235455,
        track: [
          [45.21431873, 5.79087873],
          [45.21431899, 5.79086854],
          [45.21414431, 5.79093629],
          [45.21400609, 5.79084269],
          [45.21391561, 5.79069948],
          [45.213776, 5.79038759],
          [45.21368178, 5.79040837],
          [45.21350659, 5.79049648],
          [45.21349837, 5.79053686],
          [45.21346432, 5.79060144],
          [45.21338182, 5.79072989],
          [45.21338466, 5.79076062],
        ],
      },
      {
        id: 35,
        name: "B",
        color: "FF0000",
        length: 144.61485830969298,
        track: [
          [45.21431873, 5.79087873],
          [45.21431899, 5.79086854],
          [45.21413711, 5.79093593],
          [45.21398631, 5.79091309],
          [45.21339171, 5.79119947],
          [45.21335903, 5.79106526],
          [45.21334638, 5.79085048],
          [45.21338466, 5.79076062],
        ],
      },
    ],
  },
  {
    startControlCode: "43",
    finishControlCode: "44",
    startLat: 45.213396,
    startLon: 5.790756,
    routechoices: [
      {
        id: 36,
        name: "A",
        color: "0000FF",
        length: 233.55827518509844,
        track: [
          [45.21338466, 5.79076062],
          [45.21334638, 5.79085048],
          [45.21336677, 5.79118802],
          [45.21321948, 5.79131322],
          [45.21320419, 5.79134815],
          [45.21326804, 5.79167766],
          [45.21325778, 5.79179952],
          [45.21292645, 5.79207867],
          [45.21286644, 5.79217254],
          [45.21280028, 5.79236808],
          [45.21293863, 5.79303274],
          [45.21301989, 5.79309799],
          [45.21307053, 5.79309033],
        ],
      },
      {
        id: 59,
        name: "B",
        color: "FF0000",
        length: 236.5470877246006,
        track: [
          [45.21338093, 5.79076553],
          [45.21334638, 5.79085048],
          [45.21337384, 5.79119347],
          [45.21323155, 5.79130618],
          [45.21320241, 5.7913761],
          [45.2132597, 5.79165073],
          [45.2132563, 5.7917867],
          [45.21323388, 5.79203491],
          [45.21324492, 5.79231385],
          [45.21329806, 5.79307113],
          [45.21332046, 5.79318442],
          [45.21331622, 5.7932097],
          [45.21327933, 5.79324355],
          [45.21322687, 5.79317974],
          [45.21315268, 5.79311994],
          [45.21309522, 5.79311196],
          [45.21306681, 5.79309524],
        ],
      },
    ],
  },
  {
    startControlCode: "44",
    finishControlCode: "45",
    startLat: 45.213072,
    startLon: 5.793086,
    routechoices: [
      {
        id: 37,
        name: "A",
        color: "0000FF",
        length: 81.39542135842673,
        track: [
          [45.21307053, 5.79309033],
          [45.21309522, 5.79311196],
          [45.21315268, 5.79311994],
          [45.21322687, 5.79317974],
          [45.2135829, 5.79349839],
          [45.21362224, 5.79351056],
          [45.21365132, 5.79364458],
        ],
      },
    ],
  },
  {
    startControlCode: "45",
    finishControlCode: "47",
    startLat: 45.213652,
    startLon: 5.793643,
    routechoices: [
      {
        id: 5,
        name: "A",
        color: "0000FF",
        length: 13.586576247123267,
        track: [
          [45.21365132, 5.79364458],
          [45.21359698, 5.79379993],
        ],
      },
    ],
  },
  {
    startControlCode: "47",
    finishControlCode: "48",
    startLat: 45.21361,
    startLon: 5.795543,
    routechoices: [
      {
        id: 13,
        name: "A",
        color: "0000FF",
        length: 156.34782734136553,
        track: [
          [45.21360366, 5.79554915],
          [45.21357825, 5.79641977],
          [45.21299004, 5.79659424],
          [45.21292303, 5.79639203],
          [45.21288925, 5.7963883],
        ],
      },
      {
        id: 60,
        name: "B",
        color: "FF0000",
        length: 146.6670549889953,
        track: [
          [45.21360366, 5.79554915],
          [45.2133765, 5.79612923],
          [45.21335465, 5.79613833],
          [45.213345, 5.79609196],
          [45.21333073, 5.79608614],
          [45.21329915, 5.7963395],
          [45.21326242, 5.79651102],
          [45.21299004, 5.79659424],
          [45.21292303, 5.79639203],
          [45.21288716, 5.79638513],
        ],
      },
      {
        id: 62,
        name: "C",
        color: "006400",
        length: 140.49209836978153,
        track: [
          [45.21360738, 5.79554424],
          [45.2133765, 5.79612923],
          [45.21335465, 5.79613833],
          [45.213345, 5.79609196],
          [45.21318299, 5.79594107],
          [45.21290341, 5.79602394],
          [45.21289076, 5.79638531],
        ],
      },
    ],
  },
  {
    startControlCode: "48",
    finishControlCode: "49",
    startLat: 45.212894,
    startLon: 5.796382,
    routechoices: [
      {
        id: 10,
        name: "A",
        color: "0000FF",
        length: 150.3819491818972,
        track: [
          [45.21289063, 5.79639041],
          [45.21280469, 5.79665633],
          [45.21242241, 5.79681052],
          [45.21238705, 5.79678326],
          [45.21224354, 5.79589399],
          [45.21227798, 5.79581414],
        ],
      },
      {
        id: 39,
        name: "B",
        color: "FF0000",
        length: 148.6720838979525,
        track: [
          [45.21289184, 5.79638537],
          [45.21284923, 5.79631695],
          [45.21270293, 5.79568247],
          [45.212647, 5.79561339],
          [45.2125724, 5.79542609],
          [45.2122382, 5.79553172],
          [45.21221969, 5.79555118],
          [45.21221548, 5.79571923],
          [45.21223259, 5.79575578],
          [45.2122817, 5.79580923],
        ],
      },
      {
        id: 63,
        name: "C",
        color: "006400",
        length: 151.002239990885,
        track: [
          [45.21289076, 5.79638531],
          [45.21280469, 5.79665633],
          [45.21243334, 5.79680597],
          [45.21238705, 5.79678326],
          [45.21224354, 5.79589399],
          [45.2122817, 5.79580923],
        ],
      },
    ],
  },
  {
    startControlCode: "49",
    finishControlCode: "50",
    startLat: 45.212282,
    startLon: 5.795804,
    routechoices: [
      {
        id: 40,
        name: "A",
        color: "0000FF",
        length: 45.25277351819678,
        track: [
          [45.2122817, 5.79580923],
          [45.21224354, 5.79589399],
          [45.21233658, 5.79635244],
        ],
      },
    ],
  },
  {
    startControlCode: "50",
    finishControlCode: "51",
    startLat: 45.21234,
    startLon: 5.796351,
    routechoices: [
      {
        id: 41,
        name: "A",
        color: "0000FF",
        length: 185.222840465459,
        track: [
          [45.21233658, 5.79635244],
          [45.21222179, 5.79575524],
          [45.21221969, 5.79555118],
          [45.2122382, 5.79553172],
          [45.21260184, 5.79540208],
          [45.21307706, 5.79527802],
          [45.21314589, 5.79555171],
        ],
      },
      {
        id: 42,
        name: "B",
        color: "FF0000",
        length: 186.85570748411726,
        track: [
          [45.21233658, 5.79635244],
          [45.21232874, 5.79637754],
          [45.21232425, 5.796413],
          [45.21238705, 5.79678326],
          [45.21243334, 5.79680597],
          [45.21253527, 5.79676519],
          [45.21275777, 5.79665908],
          [45.21276338, 5.79643501],
          [45.21289045, 5.79610997],
          [45.21290341, 5.79602394],
          [45.21316382, 5.79584323],
          [45.21314589, 5.79555171],
        ],
      },
      {
        id: 64,
        name: "C",
        color: "006400",
        length: 212.33125753244272,
        track: [
          [45.21233658, 5.79635244],
          [45.21232874, 5.79637754],
          [45.21232425, 5.796413],
          [45.21238705, 5.79678326],
          [45.21243334, 5.79680597],
          [45.21326242, 5.79651102],
          [45.2132736, 5.79649628],
          [45.21314589, 5.79555171],
        ],
      },
    ],
  },
  {
    startControlCode: "51",
    finishControlCode: "52",
    startLat: 45.213149,
    startLon: 5.795548,
    routechoices: [
      {
        id: 11,
        name: "A",
        color: "0000FF",
        length: 93.71449200963272,
        track: [
          [45.21314589, 5.79555171],
          [45.21318447, 5.79501827],
          [45.2131466, 5.79465946],
          [45.21307764, 5.79439087],
          [45.21307057, 5.79438542],
        ],
      },
    ],
  },
  {
    startControlCode: "52",
    finishControlCode: "F1",
    startLat: 45.213071,
    startLon: 5.794389,
    routechoices: [
      {
        id: 14,
        name: "A",
        color: "0000FF",
        length: 37.613047173708345,
        track: [
          [45.21307057, 5.79438542],
          [45.2133132, 5.79405085],
        ],
      },
    ],
  },
];

const inputLegs: Leg[] = [
  {
    startControlCode: "S1",
    finishControlCode: "31",
    startLat: 45.212847,
    startLon: 5.793802,
    routechoices: [],
  },
  {
    startControlCode: "31",
    finishControlCode: "32",
    startLat: 45.213173,
    startLon: 5.792364,
    routechoices: [],
  },
  {
    startControlCode: "32",
    finishControlCode: "33",
    startLat: 45.212336,
    startLon: 5.78996,
    routechoices: [],
  },
  {
    startControlCode: "33",
    finishControlCode: "34",
    startLat: 45.212446,
    startLon: 5.789548,
    routechoices: [],
  },
  {
    startControlCode: "34",
    finishControlCode: "35",
    startLat: 45.212793,
    startLon: 5.787053,
    routechoices: [],
  },
  {
    startControlCode: "35",
    finishControlCode: "36",
    startLat: 45.213601,
    startLon: 5.787004,
    routechoices: [],
  },
  {
    startControlCode: "36",
    finishControlCode: "37",
    startLat: 45.214257,
    startLon: 5.785209,
    routechoices: [],
  },
  {
    startControlCode: "37",
    finishControlCode: "38",
    startLat: 45.214023,
    startLon: 5.784339,
    routechoices: [],
  },
  {
    startControlCode: "38",
    finishControlCode: "46",
    startLat: 45.213519,
    startLon: 5.785003,
    routechoices: [],
  },
  {
    startControlCode: "46",
    finishControlCode: "39",
    startLat: 45.2133,
    startLon: 5.78612,
    routechoices: [],
  },
  {
    startControlCode: "39",
    finishControlCode: "40",
    startLat: 45.213758,
    startLon: 5.787612,
    routechoices: [],
  },
  {
    startControlCode: "40",
    finishControlCode: "41",
    startLat: 45.21394,
    startLon: 5.78926,
    routechoices: [],
  },
  {
    startControlCode: "41",
    finishControlCode: "42",
    startLat: 45.214394,
    startLon: 5.789118,
    routechoices: [],
  },
  {
    startControlCode: "42",
    finishControlCode: "43",
    startLat: 45.214319,
    startLon: 5.790881,
    routechoices: [],
  },
  {
    startControlCode: "43",
    finishControlCode: "44",
    startLat: 45.213396,
    startLon: 5.790756,
    routechoices: [],
  },
  {
    startControlCode: "44",
    finishControlCode: "45",
    startLat: 45.213072,
    startLon: 5.793086,
    routechoices: [],
  },
  {
    startControlCode: "45",
    finishControlCode: "47",
    startLat: 45.213652,
    startLon: 5.793643,
    routechoices: [],
  },
  {
    startControlCode: "47",
    finishControlCode: "48",
    startLat: 45.21361,
    startLon: 5.795543,
    routechoices: [],
  },
  {
    startControlCode: "48",
    finishControlCode: "49",
    startLat: 45.212894,
    startLon: 5.796382,
    routechoices: [],
  },
  {
    startControlCode: "49",
    finishControlCode: "50",
    startLat: 45.212282,
    startLon: 5.795804,
    routechoices: [],
  },
  {
    startControlCode: "50",
    finishControlCode: "51",
    startLat: 45.21234,
    startLon: 5.796351,
    routechoices: [],
  },
  {
    startControlCode: "51",
    finishControlCode: "52",
    startLat: 45.213149,
    startLon: 5.795548,
    routechoices: [],
  },
  {
    startControlCode: "52",
    finishControlCode: "F1",
    startLat: 45.213071,
    startLon: 5.794389,
    routechoices: [],
  },
];
